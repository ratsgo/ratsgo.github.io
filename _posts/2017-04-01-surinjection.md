---
title: Surjection vs Injection
category: Linear Algebra
tag: linear
html header: <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_SVG"></script>
---

이번 글에서는 **전사함수**(全射函數;surjection)와 **단사함수**(單射函數;injection)를 선형대수학의 선형변환 관점에서 살펴보도록 하겠습니다. 이번 글 역시 고려대 박성빈 교수님 강의를 참고로 했습니다. 그러면 시작하겠습니다.



## 선형변환과 그 표준형렬

V와 W를 벡터공간이라고 하고, 벡터공간 V의 원소 A, B와 실수 k에 대하여 아래 두 가지 성질을 모두 만족할 때 T를 V에서 W로의 **선형변환(linear transformation)**이라고 합니다.

> T(A+B) = T(A) + T(B)
>
> T(kA) = kT(A)

여기서 모든 선형변환은 행렬 곱의 형태로 나타낼 수 있는데요, 임의의 선형변환 T가 n차원 벡터공간에서 m차원으로 **사상(mapping)**한다고 할 때 선형변환 T는 위 정의에 의해 아래와 같이 다시 쓸 수 있습니다.

$$
\begin{align*}
x&=\begin{bmatrix} { x }_{ 1 } \\ { x }_{ 2 } \\ ... \\ { x }_{ n } \end{bmatrix}={ x }_{ 1 }\begin{bmatrix} 1 \\ 0 \\ ... \\ 0 \end{bmatrix}+{ x }_{ 2 }\begin{bmatrix} 0 \\ 1 \\ ... \\ 0 \end{bmatrix}+...+{ x }_{ n }\begin{bmatrix} 0 \\ 0 \\ ... \\ 1 \end{bmatrix}\\ 
&={ x }_{ 1 }{ e }_{ 1 }+{ x }_{ 2 }{ e }_{ 2 }+...+{ x }_{ n }{ e }_{ n } \\
\\
T(x)&={ x }_{ 1 }T({ e }_{ 1 })+{ x }_{ 2 }T({ e }_{ 2 })+...+{ x }_{ n }T({ e }_{ n })\\ &=\begin{bmatrix} T({ e }_{ 1 }) & T({ e }_{ 2 }) & ... & T({ e }_{ n }) \end{bmatrix}\begin{bmatrix} { x }_{ 1 } \\ { x }_{ 2 } \\ ... \\ { x }_{ n } \end{bmatrix}\\ 
&=Ax
\end{align*}
$$

위 식에서 행렬 A를 선형변환 T를 나타내는 **표준행렬(standard matrix)**이라 부르고, T는 A에 의해서 표현된 선형변환이라고 부릅니다. T에 대응하는 표준행렬 A는 유일함이 증명되어 있습니다.



## 전사와 단사

수학에서 전사함수 또는 **위로의 함수(onto)**는 공역과 치역이 일치하는 함수입니다. n차원 벡터공간의 벡터 x를 m차원 벡터공간의 벡터 b로 사상하는 선형변환 T(x)를 Ax=b라고 둘 때 m차원 벡터 b에 대응하는 n차원 벡터 x가 적어도 하나 존재하는 경우를 말합니다. 이를 그림으로 표현하면 아래와 같습니다.

<a href="http://imgur.com/moQGOsS"><img src="http://i.imgur.com/moQGOsS.png" width="500px" title="source: imgur.com" /></a>

위 그림의 왼쪽은 전사함수가 아닌 경우를 말합니다. T에 의해 변환된 m차원 벡터 b가 m차원 벡터공간 전부를 채우고 있지 않기(공역>치역) 때문이죠. 반대로 오른쪽 그림의 경우 T에 의해 변환된 벡터 b가 m차원 벡터공간 전체를 꽉 채우고 있는(공역=치역) 모습을 확인할 수 있습니다. 바로 오른쪽 그림에 해당하는 것이 전사함수입니다.

그럼 단사함수 또는 **일대일(one-to-one) 함수**를 살펴볼까요? 단사함수란 n차원 벡터공간의 벡터 x를 m차원 벡터공간의 벡터 b로 사상하는 선형변환 T(x)를 Ax=b라고 둘 때 m차원 벡터 b에 대응하는 n차원 벡터 x가 아무리 많아도 한 개 존재하는 경우를 일컫습니다. 이를 그림으로 도시하면 아래와 같습니다.

<a href="http://imgur.com/gXR4ewY"><img src="http://i.imgur.com/gXR4ewY.png" width="500px" title="source: imgur.com" /></a>

위 그림의 왼쪽은 일대일 함수가 아닌 경우를 말합니다. T에 의해 변환된 m차원 벡터 b에 대응하는 n차원 벡터 x가 여럿 존재하기 때문입니다. 반대로 오른쪽 그림의 경우 T에 의해 변환된 벡터 b에 대응하는 벡터 x는 단 하나 존재합니다. 이 경우에만 일대일 함수라고 부릅니다. 그럼 다음 챕터에서 선형변환에서의 전사함수와 단사함수의 예를 들어보겠습니다.



## 전사, 단사와 선형 연립방정식

선형변환 T는 4차원 벡터공간에서 3차원 벡터공간으로 사상하는 함수이고, 그에 대응하는 표준행렬 A는 다음과 같다고 둡시다. 여기서 질문은 표준행렬 A로 표현된 선형변환 T가 전사함수이냐 아니냐, 단사함수인가 아닌가 두 가지입니다.

$$A=\begin{bmatrix} 1 & -4 & 8 & 1 \\ 0 & 2 & -1 & 3 \\ 0 & 0 & 0 & 5 \end{bmatrix}$$

우선 전사함수인지를 살펴보겠습니다. 원공간인 4차원 벡터공간에 존재하는 벡터를 x, 변환 후 3차원 벡터공간에 존재하는 벡터를 b라고 두면 선형변환 T는 아래와 같이 정의할 수 있습니다.

$$Ax=b$$

선형변환 T를 위와 같이 선형 연립방정식 형태로 표시하면 T가 전사함수인가 아닌가라는 질문은 임의의 3차원 벡터 b에 대해 해가 적어도 하나 존재하느냐라는 질문과 동일하다는 걸 알 수 있습니다.  이는 가우스 소거법(기본행 연산)으로 시작한 선형대수학의 초기 챕터와 연결되는 지점인데요. 선형 연립방정식 해의 존재성과 관련해 아래 네 가지 명제는 모두 참이거나 거짓인 **동치(equivalent)**명제입니다. 자세한 내용은 [이곳](https://ratsgo.github.io/linear%20algebra/2017/03/25/LUfactorization/)을 참고하시기 바랍니다.

>(1) Ax=b는 유일한 해를 갖는다.
>
>(2) b는 계수행렬 A의 열벡터의 선형결합으로 표시된다.
>
>(3) 계수행렬 A의 열벡터는 m차원 벡터공간을 **생성(span)**한다.
>
>(4) A는 모든 행에 **pivot positon**을 하나 가진다.

자 그럼 원래 문제로 돌아가봅시다. 위 선형변환 T가 전사이려면 임의의 b에 대해 해가 적어도 하나 존재해야 합니다. 자세히 보시면 T에 대응하는 표준행렬 A는 **가우스행렬(echelon form)** 형태임을 알 수 있습니다. A의 행 개수는 3개이고 pivot position(선도 원소가 영이 아닌 행) 또한 3개이므로 위 네 가지 동치명제에 의해 해가 존재함을 알 수 있습니다. 따라서 선형변환 T는 전사함수입니다.

이제 단사함수 여부를 가려볼까요? 가우스행렬 형태인 표준행렬 A를 들여다보면 세번째 열은 **추축열(pivot column)**이 아니군요. A를 선형 연립방정식의 계수행렬로 상정해 본다면 이 열에 대응하는 변수(예컨대 x3)는 어떤 값을 가지든 연립방정식이 성립하는 **자유변수(free variable)**입니다. 바꿔 말하면 T에 의해 변환된 3차원 벡터 b에 대응하는 4차원 벡터 x가 유일하지 않다는 이야기입니다. 따라서 위 선형변환 T는 일대일 함수가 아닙니다.

n차원 벡터공간에서 m차원 벡터공간으로 사상하는 임의의 선형변환 T에 관해 세 가지 정리를 하고 넘어가겠습니다.

> (a) 표준행렬 A의 열벡터가 m차원 벡터공간을 생성(span)할 때 T는 전사함수이다.
>
> (b) T(x)가 단사함수이면 T(x)=0은 자명해(x=0)를 유일해로 갖는다. 그 역도 성립한다.
>
> (c) 표준행렬 A의 열벡터가 서로 선형독립일 때 T는 단사함수이다. 그 역도 성립한다.

여기에서 이미 살펴본 a는 생략하고, c 위주로 보겠습니다. 우선 b와 관련해 T는 선형성 조건을 만족하는 함수이기 때문에 T(0)=0입니다. T(x)가 단사함수라면 단 하나의 해만 존재하므로 T(x)=0은 자명해를 유일한 해로 갖습니다. 이번엔 c를 보겠습니다. A의 열벡터가 선형독립이라는 얘기는 T를 Ax=b 꼴의 연립방정식으로 생각할 때 그 해가 오로지 0이라는 얘기와 같습니다. 따라서 c는 명제 b에 의해 참입니다.

이제 예를 들어보겠습니다. 선형변환 T가 아래와 같이 정의됩니다.

$$T({ x }_{ 1 },{ x }_{ 2 })=(3{ x }_{ 1 }+{ x }_{ 2 },5{ x }_{ 1 }+7{ x }_{ 2 },{ x }_{ 1 }+3{ x }_{ 2 })\\ T(x)=\begin{bmatrix} 3{ x }_{ 1 }+{ x }_{ 2 } \\ 5{ x }_{ 1 }+7{ x }_{ 2 } \\ { x }_{ 1 }+3{ x }_{ 2 } \end{bmatrix}=\begin{bmatrix} 3 & 1 \\ 5 & 7 \\ 1 & 3 \end{bmatrix}\begin{bmatrix} { x }_{ 1 } \\ { x }_{ 2 } \end{bmatrix}=Ax$$

우선 단사함수 여부를 가려보겠습니다. 표준행렬 A의 열벡터는 임의의 스칼라곱을 해서 비교해도 같아지지 않으므로 서로 선형독립임을 알 수 있습니다. 따라서 위 정리 (c)에 의해 T는 단사함수임을 알 수 있습니다. 하지만 A의 행 개수는 세 개 인데 열 개수는 두 개뿐이므로 (4)가 성립할 수 없고 따라서 3차원 벡터공간을 생성할 수 없습니다. 따라서 T는 전사함수가 아님을 알 수 있습니다. 이를 그림으로 나타내면 아래와 같습니다.

<a href="http://imgur.com/5ci8UJI"><img src="http://i.imgur.com/5ci8UJI.png" width="200px" title="source: imgur.com" /></a>

위 그림을 보시면 선형변환 T에 의해 2차원 평면이 3차원으로 사상(mapping)되는 걸 확인할 수 있습니다. 변환 후 3차원 공간 전체를 채우지 못하는 것 또한 볼 수 있는데요, 여기서 우리는 이 변환이 전사함수가 아님을 알 수 있습니다. 다만 이렇게 그림으로 이해할 수 있는 건 3차원까지이고요, 그보다 높은 차원의 선형변환 T가 전사, 단사임을 확인하려면 지금까지 말씀드렸던 정리와 절차에 대해 확인하는 과정을 거쳐야 합니다. 



## 마치며

지금까지 전사함수와 단사함수를 선형대수학의 선형변환 관점에서 살펴보았습니다. 임의의 선형변환이 전사이면서 단사함수이려면 사상 전후의 차원이 같아야 합니다(2차원=>2차원, 3차원=>3차원). 그런데 만약 2차원에서 3차원 같이 사상 후 차원이 커질 경우 단사함수이지만 전사함수이진 않습니다. 바꿔 말해 일대일 대응 성질은 만족하지만 치역이 공역보다 작다는 이야기입니다. 반대로 3차원에서 2차원으로 차원을 줄일 경우 전사함수이지만 단사함수는 아닙니다. 변환된 차원의 벡터공간(2차원)은 빽빽하게 채우게 되지만, 그에 대응하는 3차원 공간의 벡터가 여러 개가 될 수 있기 때문인데요. 큰 공간을 작은 공간으로 줄일 때 빽빽해지고, 작은 공간을 큰 공간으로 늘릴 때 듬성듬성해진다고 이해하셔도 좋을 것 같다는 생각입니다. 선형변환은 선형 연립방정식의 해를 찾는 과정과 본질적으로 다르지 않기 때문에 선형대수학이라는 학문이 하나의 체계를 이루는 것 같다는 느낌도 듭니다. 질문이나 의견 있으시면 이메일이나 댓글로 알려주시면 감사하겠습니다. 여기까지 읽어주셔서 진심으로 감사드립니다.